title: Linux top
date: 2015-12-25 23:55:23
categories:
  - Linux
tags:
  - Linux
---

## linux top 使用说明


### 统计区

```
	top - 15:13:23 up 455 days,  3:21,  1 user,  load average: 0.24, 0.51, 2.29
	Tasks: 158 total,   1 running, 157 sleeping,   0 stopped,   0 zombie
	Cpu(s):  3.4%us,  1.0%sy,  0.0%ni, 94.6%id,  0.8%wa,  0.1%hi,  0.1%si,  0.0%st
	Mem:  16331116k total, 15431940k used,   899176k free,   387536k buffers
	Swap:  4194296k total,    87024k used,  4107272k free,  4752272k cached
```

#### 第一行(top)是任务队列信息(同uptime命令的执行结果)
| top任务队列 | 描述 |
| ---  		| ---  |
| 15:13:23 	| 当前时间|
| up 50days |系统运行时间|
| user		|当前登录用户数|
| load average |系统负载，三个数值分别为1、5、15分钟前到现在的平均值|

#### 第二行(Tasks)进程信息
| Tasks进程 | 描述 |
| ---  		| ---  |
| total   	| 进程总数|
| running 	| 正在运行的进程数|
| sleeping	| 睡眠的进程数|
| stopped 	| 停止的进程数|
| zombie	| 僵尸进程数|

#### 第三行(Cpu(s))CPU信息
| Cpu(s)| 描述 |
| ---  	| ---  |
| us  	| 用户空间占用CPU百分比|
| sy  	| 内核空间占用CPU百分比|
| ni  	| 用户进程空间内改变过优先级的进程占用CPU百分比|
| id  	| 空闲CPU百分比|
| wa  	| 等待输入输出的CPU时间百分比|
| hi  	| -|
| si  	| -|

#### 第四行(Mem)内存信息
| Memn内存  | 描述 |
| ---  		| ---  |
| total 	| 物理内存总量|
| used  	| 使用的物理内存总量|
| free  	| 空闲内存总量|
| buffers	| 用作内核缓存的内存量|

#### 第五行(Swap)内存信息
| Swap交换区| 描述 |
| ---  		| ---  |
| total 	| 交换区总量|
| used  	| 使用的交换区总量|
| free  	| 空闲交换区总量|
| cached	| -|


### 进程信息

| 列名	|含义|
| ---   | ---|
| PID	| 进程id|
| PPID	| 父进程id|
| RUSER	| Real user name|
| UID	| 进程所有者的用户id|
| USER	| 进程所有者的用户名|
| GROUP	| 进程所有者的组名|
| TTY   | 启动进程的终端名。不是从终端启动的进程则显示为 ?|
| PR 	| 优先级|
| NI 	| nice值。负值表示高优先级，正值表示低优先级|
| P 	| 最后使用的CPU，仅在多CPU环境下有意义|
| %CPU 	| 上次更新到现在的CPU时间占用百分比|
| TIME	| 进程使用的CPU时间总计，单位秒|
| TIME+	| 进程使用的CPU时间总计，单位1/100秒|
| %MEM 	| 进程使用的物理内存百分比|
| VIRT	| 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES|
| SWAP	| 进程使用的虚拟内存中，被换出的大小，单位kb。|
| RES	| 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA|
| CODE	| 可执行代码占用的物理内存大小，单位kb|
| DATA	| 可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb|
| SHR	| 共享内存大小，单位kb|
| nFLT 	| 页面错误次数|
| nDRT	| 最后一次写入到现在，被修改过的页面数。|
| S 	| 进程状态 D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程|
| COMMAND 	| 命令名/命令行|
| WCHAN		| 若该进程在睡眠，则显示睡眠中的系统函数名|
| Flags 	| 任务标志|


|交互命令|描述|
|---|---|
|1	| 查看多个逻辑CPU的状况|
|b 	| 打开/关闭当前top进程的高亮效果|
|x	| 打开/关闭排序列的高亮效果|
|i 	| 忽略闲置和僵死进程|
|q 	| 退出程序|
|M 	| 根据驻留内存大小进行排序|
|P 	| 根据CPU使用百分比大小进行排序|
|T 	| 根据时间/累计时间进行排序|
|h 	| 显示帮助|
|k 	| 终止一个进程|
|r 	| 重新安排一个进程的优先级别|
|f/F| 从当前显示中添加或者删除项目|
|o/O| 改变显示项目的顺序|
|l 	| 切换显示平均负载和启动时间信息|
|m 	| 切换显示内存信息|
|t 	| 切换显示进程和CPU状态信息|
|c 	| 切换显示命令名称和完整命令行|


